/*!
 *  build: vue-admin-beautiful 
 *  vue-admin-beautiful author: chuzhixin 1204505056@qq.com 
 *  vue-admin-beautiful QQ Group(QQ群): 972435319、1139183756 
 *  time: 2021-3-24 14:16:49
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-508d2a9f"],{"486a":function(e,t,r){"use strict";r("c11b")},"6d7b":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"供应商名称",prop:"supName"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.supName,callback:function(t){e.$set(e.form,"supName","string"===typeof t?t.trim():t)},expression:"form.supName"}})],1),r("el-form-item",{attrs:{label:"供应商地址",prop:"supAddress"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.supAddress,callback:function(t){e.$set(e.form,"supAddress","string"===typeof t?t.trim():t)},expression:"form.supAddress"}})],1),r("el-form-item",{attrs:{label:"是否启用",prop:"enabledFlag"}},[r("el-radio-group",{model:{value:e.form.enabledFlag,callback:function(t){e.$set(e.form,"enabledFlag",t)},expression:"form.enabledFlag"}},[r("el-radio",{attrs:{label:"Y"}},[e._v("是")]),r("el-radio",{attrs:{label:"N"}},[e._v("否")])],1)],1),r("el-form-item",{attrs:{label:"备注",prop:"rem"}},[r("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.rem,callback:function(t){e.$set(e.form,"rem",t)},expression:"form.rem"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.close}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)},a=[],s=(r("caad"),r("2532"),r("96cf"),r("1da1")),i=r("5530"),l=r("ebe5"),n=r("2f62"),u={name:"supplierManagementEdit",computed:Object(i["a"])({},Object(n["c"])({userdata:"user/userdata"})),data:function(){return{title:"",dialogFormVisible:!1,form:{pid:"",supId:"",supName:"",supAddress:"",enabledFlag:"Y",rem:"",operDate:"",userPid:"",userPid2:""},rules:{supName:[{required:!0,trigger:"blur",message:"请输入供应商名称"}],supAddress:[{required:!0,trigger:"blur",message:"请输入供应商=地址"}],enabledFlag:[{required:!0,trigger:"blur",message:"请选择是否启用"}]}}},created:function(){},methods:{showEdit:function(e){e?(this.title="编辑供应商",this.form=Object.assign({},e)):this.title="添加供应商",this.dialogFormVisible=!0},close:function(){this.$refs["form"].resetFields(),this.form=this.$options.data().form,this.dialogFormVisible=!1},save:function(){var e=this;""==this.form.pid&&(this.form.userPid=this.userdata.userPid),this.$refs["form"].validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,Object(l["editSupplier"])(e.form).then((function(t){console.log(t);var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:"保存供应商成功",type:"success"}),e.close(),e.$parent.fetchData()):1==t.code&&e.$message({message:t.message,type:"warning"})})).catch((function(e){console.log(e)}));case 3:t.next=6;break;case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},c=u,d=r("2877"),f=Object(d["a"])(c,o,a,!1,null,null,null);t["default"]=f.exports},a671:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,"append-to-body":"",visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"140px"}},[r("el-form-item",{attrs:{label:"供应商工号",prop:"jobNo"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.jobNo,callback:function(t){e.$set(e.form,"jobNo","string"===typeof t?t.trim():t)},expression:"form.jobNo"}})],1),r("el-form-item",{attrs:{label:"供应商用户名称",prop:"userName"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName","string"===typeof t?t.trim():t)},expression:"form.userName"}})],1),r("el-form-item",{attrs:{label:"登录密码",prop:"passWd"}},[r("el-input",{attrs:{autocomplete:"off",type:"password"},model:{value:e.form.passWd,callback:function(t){e.$set(e.form,"passWd","string"===typeof t?t.trim():t)},expression:"form.passWd"}})],1),r("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone","string"===typeof t?t.trim():t)},expression:"form.phone"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email","string"===typeof t?t.trim():t)},expression:"form.email"}})],1),e._e(),r("el-form-item",{attrs:{label:"是否启用",prop:"enabledFlag"}},[r("el-radio-group",{model:{value:e.form.enabledFlag,callback:function(t){e.$set(e.form,"enabledFlag",t)},expression:"form.enabledFlag"}},[r("el-radio",{attrs:{label:"Y"}},[e._v("是")]),r("el-radio",{attrs:{label:"N"}},[e._v("否")])],1)],1),e._e()],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.close}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)},a=[],s=(r("caad"),r("2532"),r("96cf"),r("1da1")),i=r("5530"),l=r("ebe5"),n=r("2f62"),u={name:"supplierUserManagementEdit",computed:Object(i["a"])({},Object(n["c"])({userdata:"user/userdata"})),data:function(){return{title:"",dialogFormVisible:!1,form:{pid:"",jobNo:"",userName:"",passWd:"",phone:"",email:"",supplierPid:"",enabledFlag:"Y",operDate:"",rem:"",userPid:"",userPid2:""},rules:{jobNo:[{required:!0,trigger:"blur",message:"请输入供应商工号"}],userName:[{required:!0,trigger:"blur",message:"请输入供应商用户名称"}],passWd:[{required:!0,trigger:"blur",message:"请输入登录密码"}],phone:[{required:!0,trigger:"blur",message:"请输入手机号码"}],email:[{required:!0,trigger:"blur",message:"请输入邮箱"}],enabledFlag:[{required:!0,trigger:"blur",message:"请选择启用标志"}]}}},created:function(){},methods:{showEdit:function(e){e?(this.title="编辑供应商登录用户",this.form=Object.assign({},e)):this.title="添加供应商登录用户",this.dialogFormVisible=!0},close:function(){this.$refs["form"].resetFields(),this.form=this.$options.data().form,this.dialogFormVisible=!1},save:function(){var e=this;""==this.form.pid&&(this.form.userPid=this.userdata.userPid,this.form.supplierPid=this.$parent.$parent.form.supplierPid),this.$refs["form"].validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,Object(l["editSupplierUser"])(e.form).then((function(t){var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:t.message,type:"success"}),e.close(),e.$parent.$parent.fetchData()):1==t.code&&e.$message({message:t.message,type:"warning"})})).catch((function(e){console.log(e)}));case 3:t.next=6;break;case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},c=u,d=r("2877"),f=Object(d["a"])(c,o,a,!1,null,null,null);t["default"]=f.exports},c11b:function(e,t,r){},c61d:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"userManagement-container"},[r("vab-query-form",[r("vab-query-form-left-panel",{staticStyle:{"margin-bottom":"0%"},attrs:{span:12}},[r("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(t){return e.handleEdit()}}},[e._v(" 添加 ")]),r("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(t){return e.handleDelete()}}},[e._v(" 批量删除 ")])],1),r("vab-query-form-right-panel",{staticStyle:{"margin-bottom":"0%"},attrs:{span:12}},[r("el-form",{attrs:{inline:!0,model:e.form},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",[r("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入供应商名称/地址",clearable:""},model:{value:e.form.searchData,callback:function(t){e.$set(e.form,"searchData","string"===typeof t?t.trim():t)},expression:"form.searchData"}})],1),r("el-form-item",[r("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.queryData}},[e._v(" 查询 ")])],1)],1)],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,height:"500",border:"","element-loading-text":e.elementLoadingText},on:{"selection-change":e.setSelectRows}},[r("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"selection"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"supName",label:"供应商名称",width:"200"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"supAddress",label:"供应商地址",width:"400"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"rem",label:"备注",width:"400"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"enabledFlag",label:"是否启用",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["Y"==t.row.enabledFlag?r("label",[e._v("是")]):e._e(),"N"==t.row.enabledFlag?r("label",[e._v("否")]):e._e()]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"operDate",label:"录入日期",width:"200"}}),e._e(),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"配置供应商人员",width:"130",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleConfigureUser(o)}}},[e._v(" 配置人员 ")])]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleEdit(o)}}},[e._v("编辑")])]}}])})],1),r("edit",{ref:"edit"}),r("configureUser",{ref:"configureUser"})],1)},a=[],s=(r("caad"),r("2532"),r("96cf"),r("1da1")),i=r("ebe5"),l=r("6d7b"),n=r("e1a8"),u={name:"SupplierManagement",components:{Edit:l["default"],ConfigureUser:n["default"]},data:function(){return{list:[],elementLoadingText:"正在加载...",selectRows:"",pidList:[],form:{userPid:"",searchData:""}}},created:function(){this.fetchData()},methods:{handleConfigureUser:function(e){this.$refs["configureUser"].showConfigureUser(e)},handleEdit:function(e){void 0!=e?this.$refs["edit"].showEdit(e):this.$refs["edit"].showEdit()},setSelectRows:function(e){this.selectRows=e},handleDelete:function(){var e=this;this.pidList=[];for(var t=0;t<this.selectRows.length;t++){var r=this.selectRows[t].pid;this.pidList.push(r)}this.$baseConfirm("您确定要删除所选供应商吗?",null,Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["deleteSupplier"])(e.pidList).then((function(t){var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:"删除供应商成功",type:"success"}),e.fetchData()):1==t.code&&e.$message({message:"删除供应商失败",type:"warning"})}));case 2:case"end":return t.stop()}}),t)}))))},queryData:function(){this.fetchData()},fetchData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["supplierMasterList"])(e.form).then((function(t){var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code&&(e.list=t.data)}));case 2:case"end":return t.stop()}}),t)})))()}}},c=u,d=r("2877"),f=Object(d["a"])(c,o,a,!1,null,null,null);t["default"]=f.exports},e1a8:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,width:"70%"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[r("div",[r("vab-query-form",[r("vab-query-form-left-panel",{staticStyle:{"margin-bottom":"0%","margin-top":"-2%"},attrs:{span:24}},[r("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(t){return e.handleEdit()}}},[e._v(" 添加 ")]),r("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(t){return e.handleDelete()}}},[e._v(" 批量删除 ")]),r("el-form",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{inline:!0,model:e.form},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",[r("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入工号/名称/手机号码",clearable:""},model:{value:e.form.searchData,callback:function(t){e.$set(e.form,"searchData","string"===typeof t?t.trim():t)},expression:"form.searchData"}})],1),r("el-form-item",[r("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.queryData}},[e._v(" 查询 ")])],1)],1)],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,height:"350",border:"","element-loading-text":e.elementLoadingText},on:{"selection-change":e.setSelectRows}},[r("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"selection"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"jobNo",label:"供应商工号","min-width":"10%"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"userName",label:"供应商用户名称","min-width":"10%"}}),e._e(),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"phone",label:"手机号码","min-width":"10%"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"email",label:"邮箱","min-width":"10%"}}),e._e(),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"enabledFlag",label:"是否启用","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return["Y"==t.row.enabledFlag?r("label",[e._v("是")]):e._e(),"N"==t.row.enabledFlag?r("label",[e._v("否")]):e._e()]}}])}),e._e(),e._e(),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleEdit(o)}}},[e._v("编辑")])]}}])})],1),r("edit",{ref:"edit"})],1)])},a=[],s=(r("caad"),r("2532"),r("96cf"),r("1da1")),i=r("ebe5"),l=r("a671"),n={name:"SupplierUser",components:{Edit:l["default"]},data:function(){return{title:"配置人员信息",list:[],dialogFormVisible:!1,elementLoadingText:"正在加载...",selectRows:"",pidList:[],form:{userPid:"",supplierPid:"",searchData:""}}},created:function(){},methods:{showConfigureUser:function(e){this.form.supplierPid=e.pid,this.dialogFormVisible=!0,this.fetchData()},close:function(){this.form=this.$options.data().form,this.dialogFormVisible=!1},handleEdit:function(e){void 0!=e?this.$refs["edit"].showEdit(e):this.$refs["edit"].showEdit()},setSelectRows:function(e){this.selectRows=e},handleDelete:function(){var e=this;this.pidList=[];for(var t=0;t<this.selectRows.length;t++){var r=this.selectRows[t].pid;this.pidList.push(r)}this.$baseConfirm("您确定要删除所选供应商吗?",null,Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["deleteSupplierUser"])(e.pidList).then((function(t){var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:"删除供应商成功",type:"success"}),e.fetchData()):1==t.code&&e.$message({message:"删除供应商失败",type:"warning"})}));case 2:case"end":return t.stop()}}),t)}))))},queryData:function(){this.fetchData()},fetchData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["supplierUserList"])(e.form).then((function(t){var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code&&(e.list=t.data)}));case 2:case"end":return t.stop()}}),t)})))()}}},u=n,c=(r("486a"),r("2877")),d=Object(c["a"])(u,o,a,!1,null,null,null);t["default"]=d.exports},ebe5:function(e,t,r){"use strict";r.r(t),r.d(t,"supplierMasterList",(function(){return a})),r.d(t,"editSupplier",(function(){return s})),r.d(t,"deleteSupplier",(function(){return i})),r.d(t,"supplierUserList",(function(){return l})),r.d(t,"editSupplierUser",(function(){return n})),r.d(t,"deleteSupplierUser",(function(){return u}));var o=r("8b2a");function a(e){return Object(o["default"])({url:"/suppliermaster/supMaterList",method:"post",data:e})}function s(e){return Object(o["default"])({url:"/suppliermaster/supMaster",method:"post",data:e})}function i(e){return Object(o["default"])({url:"/suppliermaster/"+e,method:"delete"})}function l(e){return Object(o["default"])({url:"/supplieruser/supUserList",method:"post",data:e})}function n(e){return Object(o["default"])({url:"/supplieruser/supUser",method:"post",data:e})}function u(e){return Object(o["default"])({url:"/supplieruser/"+e,method:"delete"})}}}]);