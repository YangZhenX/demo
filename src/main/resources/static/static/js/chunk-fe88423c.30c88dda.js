/*!
 *  build: vue-admin-beautiful 
 *  vue-admin-beautiful author: chuzhixin 1204505056@qq.com 
 *  vue-admin-beautiful QQ Group(QQ群): 972435319、1139183756 
 *  time: 2021-3-24 14:16:49
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe88423c","chunk-2d21d0e4"],{"05d0":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,"append-to-body":"",visible:e.dialogFormVisible,width:"600px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[r("div",[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[r("el-form-item",{attrs:{label:"公司名称",prop:"companyName"}},[r("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName","string"===typeof t?t.trim():t)},expression:"form.companyName"}})],1),r("el-form-item",{attrs:{label:"最大套数",prop:"num"}},[r("el-input",{attrs:{autocomplete:"off",maxlength:"9",onkeyup:"value=value.replace(/[^\\d+(\\.\\d+)?$]/g,'')"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num","string"===typeof t?t.trim():t)},expression:"form.num"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.close}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)])},o=[],i=(r("caad"),r("2532"),r("96cf"),r("1da1")),n=r("d057"),l={name:"productApplyMealEdit",data:function(){return{dialogFormVisible:!1,title:"配置最大套数",form:{rowId:"",companyPid:"",typePid:"",num:""},rules:{num:[{required:!0,trigger:"blur",message:"请输入最大套数"}]}}},created:function(){},methods:{showEdit:function(e,t){this.form=Object.assign({},e),this.form.typePid=t,this.dialogFormVisible=!0},close:function(){this.$refs["form"].resetFields(),this.form=this.$options.data().form,this.dialogFormVisible=!1},save:function(){var e=this;"null"==this.form.rowId&&(this.form.rowId=""),this.$refs["form"].validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,Object(n["saveApplySetMeal"])(e.form).then((function(t){var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:"配置最大套数成功！",type:"success"}),e.close(),e.$parent.$parent.queryData()):1==t.code&&e.$message({message:"配置最大套数失败",type:"warning"})})).catch((function(e){console.log(e)}));case 3:t.next=6;break;case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},s=l,c=r("2877"),u=Object(c["a"])(s,a,o,!1,null,null,null);t["default"]=u.exports},"0757":function(e,t,r){"use strict";r("c6b62")},"1fc6":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.showAddQuantity,width:"400px","append-to-body":""},on:{"update:visible":function(t){e.showAddQuantity=t},close:e.close}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"宣传品名称",prop:"prodName"}},[r("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.form.prodName,callback:function(t){e.$set(e.form,"prodName",t)},expression:"form.prodName"}})],1),r("el-form-item",{attrs:{label:"数量",prop:"tcNum"}},[r("el-input",{attrs:{autocomplete:"off",onkeyup:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.form.tcNum,callback:function(t){e.$set(e.form,"tcNum","string"===typeof t?t.trim():t)},expression:"form.tcNum"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.close}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)},o=[],i=(r("caad"),r("2532"),r("96cf"),r("1da1")),n=r("5530"),l=r("d057"),s=r("2f62"),c={name:"productSetMealEditList",computed:Object(n["a"])({},Object(s["c"])({userdata:"user/userdata"})),data:function(){return{title:"",elementLoadingText:"正在加载...",diaTitle:"查看大图",showAddQuantity:!1,typeData:"",form:{pid:"",prodPid:"",typePid:"",prodName:"",tcNum:"",userPid:""},editForm:{pid:"",prodPid:"",typePid:"",prodName:"",tcNum:"",userPid:""},rules:{tcNum:[{required:!0,trigger:"blur",message:"请输入数量"}]}}},created:function(){},methods:{addQuantity:function(e,t){this.title="添加套餐",this.form.pid="",this.form.prodPid=e.pid,this.form.prodName=e.prodName,this.form.typePid=t,this.showAddQuantity=!0},editQuantity:function(e){this.title="修改套餐",this.form.pid=e.pid,this.form.prodPid=e.prodPid,this.form.prodName=e.prodName,this.form.typePid=e.typePid,this.form.userPid=e.userPid,this.form.tcNum=e.tcNum,this.showAddQuantity=!0},close:function(){this.form={},this.showAddQuantity=!1},save:function(){var e=this;""==this.form.pid&&(this.form.userPid=this.userdata.userPid),this.editForm=this.form,this.$refs["form"].validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,Object(l["editProductSetMeal"])(e.form).then((function(t){var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:"添加套餐成功",type:"success"}),e.close(),"添加套餐"==e.title?(e.$parent.$parent.showTypeNullList({id:t.data}),e.$parent.$parent.fetchData(t.data)):(e.$parent.fetchData(t.data),e.$parent.handleTreeNodeClick({id:t.data}))):1==t.code&&e.$message({message:"添加套餐失败",type:"warning"})})).catch((function(e){console.log(e)}));case 3:t.next=6;break;case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},u=c,d=r("2877"),p=Object(d["a"])(u,a,o,!1,null,null,null);t["default"]=p.exports},a52f:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"menuManagement-container"},[r("el-row",[r("el-col",{staticStyle:{"margin-bottom":"0%"},attrs:{xs:24,sm:24,md:8,lg:8,xl:10}},[r("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(t){return e.handleAddType()}}},[e._v(" 添加类别 ")]),r("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(t){return e.handleDeleteType()}}},[e._v(" 批量删除 ")]),r("el-divider"),r("el-tree",{ref:"tree",staticStyle:{"margin-top":"-4%"},attrs:{data:e.typeTitle,"default-expand-all":"","node-key":"id","highlight-current":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node;return r("span",{staticClass:"custom-tree-node"},[r("span",{staticStyle:{color:"#303133","text-align":"center"},attrs:{title:a.label}},[e._v(" 类别名称 ")]),r("el-button",{staticStyle:{color:"#303133","text-align":"center"},attrs:{type:"text",size:"mini"}},[e._v(" 启用 ")]),r("el-button",{staticStyle:{color:"#303133","text-align":"center"},attrs:{type:"text",size:"mini"}},[e._v(" 排序 ")]),r("el-button",{staticStyle:{color:"#303133","text-align":"center"},attrs:{type:"text",size:"mini"}},[e._v(" 操作 ")]),r("el-button",{staticStyle:{color:"#303133","text-align":"center"},attrs:{type:"text",size:"mini"}},[e._v(" 操作 ")])],1)}}])}),r("el-tree",{ref:"tree",attrs:{data:e.prodtypeList,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:e.defaultProps},on:{"node-click":e.handleTreeNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,o=t.data;return r("span",{staticClass:"custom-tree-node"},[r("span",{attrs:{title:a.label}},[e._v(e._s(a.label))]),r("el-button",{staticStyle:{color:"#303133","text-align":"center"},attrs:{type:"text",size:"mini"}},[e._v(" "+e._s("Y"==o.enabledflag?"是":"否")+" ")]),r("el-button",{staticStyle:{color:"#303133","text-align":"center"},attrs:{type:"text",size:"mini"}},[e._v(" "+e._s(o.ext4)+" ")]),r("el-button",{staticStyle:{"text-align":"center"},attrs:{type:"text",size:"mini"},on:{click:function(){return e.editApplySetMeal(o)}}},[e._v(" 套数 ")]),r("el-button",{staticStyle:{"text-align":"center"},attrs:{type:"text",size:"mini"},on:{click:function(){return e.editType(o)}}},[e._v(" 编辑 ")])],1)}}])})],1),r("el-col",{staticStyle:{"border-left-style":"solid","border-width":"2px","border-color":"#e8eaec"},attrs:{xs:24,sm:24,md:16,lg:16,xl:14}},[r("vab-query-form",[r("vab-query-form-top-panel",{staticStyle:{"margin-bottom":"0%"},attrs:{span:6}},[r("div",{staticStyle:{width:"5%"}}),r("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.handleAddProdtype}},[e._v(" 添加单品 ")]),r("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:e.handleDeleteProdType}},[e._v(" 批量删除单品 ")])],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"",height:"600","element-loading-text":e.elementLoadingText},on:{"selection-change":e.setSelectRows}},[r("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"selection"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"prodName",label:"宣传品名称","min-width":"20%"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"ext3",label:"版本号","min-width":"14%"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"prodPid",label:"图片","min-width":"8%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-image",{staticStyle:{width:"30px",height:"30px"},attrs:{src:e.baseUrl+"/productmaster/viewfile/"+t.row.prodPid+"/"+Date.now()},on:{click:function(r){return e.handlePictureCardPreview(t.row.prodPid)}}})]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"introduce",label:"详细介绍","min-width":"29%"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"tcNum",label:"数量","min-width":"7%"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作","min-width":"8%"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleQuantity(a)}}},[e._v(" 修改 ")])]}}])})],1)],1)],1),r("showMealEdit",{ref:"showMealEdit"}),r("typeNullList",{ref:"typeNullList"}),r("applyMeal",{ref:"showSetMealEdit"}),r("editMeal",{ref:"editMeal"}),r("el-dialog",{attrs:{visible:e.dialogVisible,title:e.diaTitle,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},o=[],i=(r("caad"),r("2532"),r("b85c")),n=(r("96cf"),r("1da1")),l=r("5530"),s=r("d057"),c=r("2f62"),u=r("f5d0"),d=r("d2a8"),p=r("1fc6"),f=r("fdfd"),m=r("d4a5"),h=r.n(m),b={name:"prodsetmealManagement",computed:Object(l["a"])({},Object(c["c"])({userdata:"user/userdata"})),components:{ShowMealEdit:u["default"],TypeNullList:d["default"],EditMeal:p["default"],ApplyMeal:f["default"]},data:function(){return{diaTitle:"查看大图",dialogImageUrl:"",baseUrl:"",dialogVisible:!1,prodtypeList:[],typeTitle:[{id:""}],defaultProps:{children:"children",label:"label"},list:[],typeData:"",elementLoadingText:"正在加载...",selectRows:"",typeList:[],pidList:[]}},created:function(){this.baseUrl=h.a.newBaseUrl,this.getProdtypeList()},methods:{handleAddProdtype:function(){""==this.typeData?this.$message({message:"请先选择类别",type:"warning"}):this.$refs["typeNullList"].showTypeNullList(this.typeData)},getProdtypeList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["productTypeList"])("B").then((function(t){var r=t.message;if(r.includes("请重新登录"))e.$message.error("无token信息，请重新登录。");else if(200==t.code){var a,o=[],n=Object(i["a"])(t.data);try{for(n.s();!(a=n.n()).done;){var l=a.value;o.push({id:l.pid,label:l.typeName,userPid:l.userPid,ext4:l.ext4,enabledflag:l.enabledflag})}}catch(s){n.e(s)}finally{n.f()}e.prodtypeList=o}}));case 2:case"end":return t.stop()}}),t)})))()},handlePictureCardPreview:function(e){this.dialogImageUrl=this.baseUrl+"/productmaster/viewfile/"+e+"/"+Date.now(),this.dialogVisible=!0},handleAddType:function(){this.$refs["showMealEdit"].showMealType()},editType:function(e){this.typeData=e,this.$refs["showMealEdit"].showMealType(this.typeData)},editApplySetMeal:function(e){this.typeData=e,this.$refs["showSetMealEdit"].showApplySetMeal(this.typeData)},handleTreeNodeClick:function(e){this.typeData=e,this.fetchData(e.id)},fetchData:function(e){var t=this;Object(s["productSetMealList"])(e).then((function(e){var r=e.message;r.includes("请重新登录")?t.$message.error("无token信息，请重新登录。"):200==e.code&&(t.list=e.data)}))},handleQuantity:function(e){this.$refs["editMeal"].editQuantity(e)},handleDeleteType:function(){for(var e=this,t=this.$refs.tree.getCheckedNodes(),r=0;r<t.length;r++){var a=t[r].id;this.typeList.push(a)}this.$baseConfirm("您确定要删除所选类别吗?",null,Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["deleteMealByTypeId"])(e.typeList).then((function(t){var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:"删除类别成功",type:"success"}),e.getProdtypeList(),e.fetchData()):1==t.code&&e.$message({message:"删除类别失败",type:"warning"})})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)}))))},setSelectRows:function(e){this.selectRows=e},handleDeleteProdType:function(){var e=this;this.pidList=[];for(var t=0;t<this.selectRows.length;t++){var r=this.selectRows[t].pid;this.pidList.push(r)}this.$baseConfirm("您确定要删除所选套餐吗?",null,Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["deleteProdSetMeal"])(e.pidList).then((function(t){var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:"删除套餐成功",type:"success"}),e.fetchData(e.typeData.id)):1==t.code&&e.$message({message:"删除套餐失败",type:"warning"})}));case 2:case"end":return t.stop()}}),t)}))))}}},g=b,y=(r("0757"),r("2877")),w=Object(y["a"])(g,a,o,!1,null,null,null);t["default"]=w.exports},c6b62:function(e,t,r){},d057:function(e,t,r){"use strict";r.r(t),r.d(t,"productMasterList",(function(){return o})),r.d(t,"editProduct",(function(){return i})),r.d(t,"productUpdatePic",(function(){return n})),r.d(t,"deleteProduct",(function(){return l})),r.d(t,"getProductApplyQuotaList",(function(){return s})),r.d(t,"editApplyQuota",(function(){return c})),r.d(t,"editBatchApplyQuota",(function(){return u})),r.d(t,"productSingleList",(function(){return d})),r.d(t,"editProductSingleType",(function(){return p})),r.d(t,"deleteProdType",(function(){return f})),r.d(t,"productTypeList",(function(){return m})),r.d(t,"productTypeNullList",(function(){return h})),r.d(t,"editProdTypeAndProduct",(function(){return b})),r.d(t,"productSetMealList",(function(){return g})),r.d(t,"setMealTypeNullList",(function(){return y})),r.d(t,"deleteProdSetMeal",(function(){return w})),r.d(t,"deleteMealByTypeId",(function(){return v})),r.d(t,"editProductSetMeal",(function(){return x})),r.d(t,"saveProductSetMeal",(function(){return k})),r.d(t,"showApplySetMeal",(function(){return P})),r.d(t,"saveApplySetMeal",(function(){return $}));var a=r("8b2a");function o(e){return Object(a["default"])({url:"/productmaster/list",method:"post",data:e})}function i(e){return Object(a["default"])({url:"/productmaster/save",method:"post",data:e})}function n(e){return Object(a["default"])({url:"/productmaster/savePic",method:"post",data:e})}function l(e){return Object(a["default"])({url:"/productmaster/"+e,method:"delete"})}function s(e){return Object(a["default"])({url:"/productmaster/paqList/"+e,method:"get"})}function c(e){return Object(a["default"])({url:"/productmaster/saveApplyQuota",method:"post",data:e})}function u(e){return Object(a["default"])({url:"/productmaster/saveBatchQuantity",method:"post",data:e})}function d(e){return Object(a["default"])({url:"/productsinglemaster/list/"+e,method:"get"})}function p(e){return Object(a["default"])({url:"/prodtype",method:"post",data:e})}function f(e){return Object(a["default"])({url:"/prodtype/deleteBatch/"+e,method:"delete"})}function m(e){return Object(a["default"])({url:"/prodtype/listByIsSingle/"+e,method:"get"})}function h(e){return Object(a["default"])({url:"/productmaster/TypeNullList",method:"post",data:e})}function b(e,t,r){return Object(a["default"])({url:"/productsinglemaster/edit/"+e+"/"+t+"/"+r,method:"get"})}function g(e){return Object(a["default"])({url:"/productsetmealmaster/listByType/"+e,method:"get"})}function y(e){return Object(a["default"])({url:"/productsetmealmaster/listTypeNull",method:"post",data:e})}function w(e){return Object(a["default"])({url:"/productsetmealmaster/"+e,method:"delete"})}function v(e){return Object(a["default"])({url:"/productsetmealmaster/deleteByType/"+e,method:"delete"})}function x(e){return Object(a["default"])({url:"/productsetmealmaster/save",method:"post",data:e})}function k(e){return Object(a["default"])({url:"/productsetmealmaster/saveBatch",method:"post",data:e})}function P(e){return Object(a["default"])({url:"/productsetmealmaster/applySetMeal/"+e,method:"get"})}function $(e){return Object(a["default"])({url:"/productsetmealmaster/saveApplySetMeal",method:"post",data:e})}},d2a8:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,"append-to-body":"",width:"65%"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[r("div",{staticClass:"userManagement-container"},[r("vab-query-form",[r("vab-query-form-left-panel",{staticStyle:{"margin-top":"-2%","margin-bottom":"0%"},attrs:{span:12}},[r("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.addSelectProduct}},[e._v(" 添加 ")])],1),r("vab-query-form-right-panel",{staticStyle:{"margin-top":"-2%","margin-bottom":"0%"},attrs:{span:12}},[r("el-form",{attrs:{inline:!0,model:e.form},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",[r("el-input",{attrs:{placeholder:"请输入宣传品名称",clearable:""},model:{value:e.form.searchData,callback:function(t){e.$set(e.form,"searchData","string"===typeof t?t.trim():t)},expression:"form.searchData"}})],1),r("el-form-item",[r("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.queryData}},[e._v(" 查询 ")])],1)],1)],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,height:"400",border:"","element-loading-text":e.elementLoadingText},on:{"selection-change":e.setSelectRows}},[r("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"selection"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"prodName",label:"宣传品名称",width:"200"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"ext3",label:"版本号",width:"150"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"pid",label:"图片",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-image",{staticStyle:{width:"30px",height:"30px"},attrs:{src:e.baseUrl+"/productmaster/viewfile/"+t.row.pid+"/"+Date.now()},on:{click:function(r){return e.handlePictureCardPreview(t.row.pid)}}})]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"introduce",label:"详细介绍"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"tcNum",label:"数量",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",autocomplete:"off"},model:{value:t.row.tcNum,callback:function(r){e.$set(t.row,"tcNum","string"===typeof r?r.trim():r)},expression:"scope.row.tcNum"}})]}}])})],1),r("el-dialog",{attrs:{visible:e.dialogVisible,title:e.diaTitle,width:"30%","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)])},o=[],i=(r("caad"),r("d3b7"),r("2532"),r("ddb0"),r("96cf"),r("1da1")),n=r("5530"),l=r("d057"),s=r("2f62"),c=r("d4a5"),u=r.n(c),d={name:"productSetMealTypeNullList",computed:Object(n["a"])({},Object(s["c"])({userdata:"user/userdata"})),data:function(){return{title:"",elementLoadingText:"正在加载...",diaTitle:"查看大图",dialogImageUrl:"",dialogVisible:!1,dialogFormVisible:!1,list:"",form:{searchData:"",typePid:""},selectRows:"",editDate:[]}},created:function(){this.baseUrl=u.a.newBaseUrl},methods:{showTypeNullList:function(e){this.form.typePid=e.id,this.fetchData(),this.typeData=e.id,this.title="添加宣传品套餐",this.dialogFormVisible=!0},close:function(){this.editDate=[],this.$parent.handleTreeNodeClick({id:this.typeData}),this.dialogFormVisible=!1},checkboxT:function(e,t){console.log(e),console.log(t)},handlePictureCardPreview:function(e){this.dialogImageUrl=this.baseUrl+"/productmaster/viewfile/"+e+"/"+Date.now(),this.dialogVisible=!0},queryData:function(){this.fetchData()},fetchData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["setMealTypeNullList"])(e.form).then((function(t){var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code&&(e.list=t.data)}));case 2:case"end":return t.stop()}}),t)})))()},setSelectRows:function(e){this.editDate=[],this.selectRows=e},addSelectProduct:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=regeneratorRuntime.keys(e.selectRows);case 1:if((t.t1=t.t0()).done){t.next=9;break}if(r=t.t1.value,void 0!=e.selectRows[r].tcNum&&null!=e.selectRows[r].tcNum&&""!=e.selectRows[r].tcNum){t.next=6;break}return e.$message({message:"请输入数量",type:"warning"}),t.abrupt("return",!1);case 6:e.editDate.push({pid:"",typePid:e.typeData,prodPid:e.selectRows[r].pid,tcNum:e.selectRows[r].tcNum,userPid:e.userdata.userPid}),t.next=1;break;case 9:if(e.selectRows!=[]&&""!=e.selectRows){t.next=12;break}return e.$message({message:"请选择单品",type:"warning"}),t.abrupt("return",!1);case 12:return t.next=14,Object(l["saveProductSetMeal"])(e.editDate).then((function(t){var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:"保存套餐成功",type:"success"}),e.close()):1==t.code&&e.$message({message:"保存套餐失败",type:"warning"})})).catch((function(e){console.log(e)}));case 14:case"end":return t.stop()}}),t)})))()}}},p=d,f=r("2877"),m=Object(f["a"])(p,a,o,!1,null,null,null);t["default"]=m.exports},f5d0:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"类别名称",prop:"typeName"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.typeName,callback:function(t){e.$set(e.form,"typeName","string"===typeof t?t.trim():t)},expression:"form.typeName"}})],1),r("el-form-item",{attrs:{label:"顺序",prop:"ext4"}},[r("el-input",{attrs:{autocomplete:"off",onkeyup:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.form.ext4,callback:function(t){e.$set(e.form,"ext4","string"===typeof t?t.trim():t)},expression:"form.ext4"}})],1),r("el-form-item",{attrs:{label:"启用标志",prop:"enabledflag"}},[r("el-radio-group",{model:{value:e.form.enabledflag,callback:function(t){e.$set(e.form,"enabledflag",t)},expression:"form.enabledflag"}},[r("el-radio",{attrs:{label:"Y"}},[e._v("是")]),r("el-radio",{attrs:{label:"N"}},[e._v("否")])],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.close}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)},o=[],i=(r("caad"),r("2532"),r("96cf"),r("1da1")),n=r("5530"),l=r("d057"),s=r("2f62"),c={name:"prodsetmealManagementEdit",computed:Object(n["a"])({},Object(s["c"])({userdata:"user/userdata"})),data:function(){return{title:"",dialogFormVisible:!1,form:{pid:"",typeName:"",isSingle:"B",enabledflag:"Y",userPid:"",ext4:""},rules:{typeName:[{required:!0,trigger:"blur",message:"请输入类别名称"}],ext4:[{required:!0,trigger:"blur",message:"请输入顺序"}]}}},created:function(){},methods:{showMealType:function(e){e?(this.title="编辑宣传品-套餐类别",this.form.pid=e.id,this.form.typeName=e.label,this.form.userPid=e.userPid,this.form.ext4=e.ext4,this.form.enabledflag=e.enabledflag):this.title="添加宣传品-套餐类别",this.dialogFormVisible=!0},close:function(){this.$refs["form"].resetFields(),this.form=this.$options.data().form,this.dialogFormVisible=!1},save:function(){var e=this;""==this.form.pid&&(this.form.userPid=this.userdata.userPid),this.$refs["form"].validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,Object(l["editProductSingleType"])(e.form).then((function(t){var r=t.message;console.log(t.message),r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:"保存套餐类别成功",type:"success"}),e.close(),e.$parent.getProdtypeList(),e.$parent.fetchData()):1==t.code&&e.$message({message:t.message,type:"warning"})})).catch((function(e){console.log(e)}));case 3:t.next=6;break;case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},u=c,d=r("2877"),p=Object(d["a"])(u,a,o,!1,null,null,null);t["default"]=p.exports},fdfd:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"userManagement-container"},[r("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,width:"65%"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"","element-loading-text":e.elementLoadingText}},[e._e(),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"companyName",label:"公司名称","min-width":"30%"}}),e._e(),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"num",label:"最大套数","min-width":"11%"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作","min-width":"8%"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleShowApplyQuota(a)}}},[e._v(" 编辑 ")])]}}])})],1),r("editMeal",{ref:"editMeal"})],1)],1)},o=[],i=(r("caad"),r("2532"),r("96cf"),r("1da1")),n=r("d057"),l=r("05d0"),s={name:"productApplyMealList",components:{EditMeal:l["default"]},data:function(){return{title:"配置列表",list:"",dialogFormVisible:!1,elementLoadingText:"正在加载...",form:{typePid:""}}},created:function(){},methods:{showApplySetMeal:function(e){this.form.typePid=e.id,this.dialogFormVisible=!0,this.fetchData()},close:function(){this.form=this.$options.data().form,this.dialogFormVisible=!1},handleShowApplyQuota:function(e){this.$refs["editMeal"].showEdit(e,this.form.typePid)},queryData:function(){this.fetchData()},fetchData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["showApplySetMeal"])(e.form.typePid).then((function(t){console.log(t);var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code&&(e.list=t.data)}));case 2:case"end":return t.stop()}}),t)})))()}}},c=s,u=r("2877"),d=Object(u["a"])(c,a,o,!1,null,null,null);t["default"]=d.exports}}]);