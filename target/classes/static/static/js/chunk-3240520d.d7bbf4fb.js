/*!
 *  build: vue-admin-beautiful 
 *  vue-admin-beautiful author: chuzhixin 1204505056@qq.com 
 *  vue-admin-beautiful QQ Group(QQ群): 972435319、1139183756 
 *  time: 2021-3-24 14:16:49
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3240520d"],{1304:function(e,t,r){"use strict";r.r(t),r.d(t,"dealersMasterList",(function(){return n})),r.d(t,"editDealers",(function(){return s})),r.d(t,"deleteDealers",(function(){return o})),r.d(t,"getCompanyList",(function(){return i}));var a=r("8b2a");function n(e){return Object(a["default"])({url:"/dealersmaster/list",method:"post",data:e})}function s(e){return Object(a["default"])({url:"/dealersmaster/save",method:"post",data:e})}function o(e){return Object(a["default"])({url:"/dealersmaster/"+e,method:"delete"})}function i(){return Object(a["default"])({url:"/dealersmaster/getCompanyList",method:"post"})}},"55fb":function(e,t,r){"use strict";r("8c1b")},"5b3b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"userManagement-container"},[r("vab-query-form",[r("vab-query-form-left-panel",{staticStyle:{"margin-bottom":"0%"},attrs:{span:12}},[r("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(t){return e.handleEdit()}}},[e._v(" 添加 ")]),r("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(t){return e.handleDelete()}}},[e._v(" 批量删除 ")])],1),r("vab-query-form-right-panel",{staticStyle:{"margin-bottom":"0%"},attrs:{span:12}},[r("el-form",{attrs:{inline:!0,model:e.form},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",[r("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入领料类型",clearable:""},model:{value:e.form.searchData,callback:function(t){e.$set(e.form,"searchData","string"===typeof t?t.trim():t)},expression:"form.searchData"}})],1),r("el-form-item",[r("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.queryData}},[e._v(" 查询 ")])],1)],1)],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,height:"500",border:"","element-loading-text":e.elementLoadingText},on:{"selection-change":e.setSelectRows}},[r("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"selection"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"dealersName",label:"领料类型","min-width":"30%"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"rem",label:"备注","min-width":"40%"}}),e._e(),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"enabledFlag",label:"是否启用","min-width":"15%"},scopedSlots:e._u([{key:"default",fn:function(t){return["Y"==t.row.enabledFlag?r("label",[e._v("是")]):e._e(),"N"==t.row.enabledFlag?r("label",[e._v("否")]):e._e()]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleEdit(a)}}},[e._v("编辑")])]}}])})],1),r("edit",{ref:"edit"})],1)},n=[],s=(r("caad"),r("2532"),r("96cf"),r("1da1")),o=r("1304"),i=r("acf6"),l={name:"DealersManagement",components:{Edit:i["default"]},data:function(){return{list:[],elementLoadingText:"正在加载...",selectRows:"",pidList:[],form:{userPid:"",searchData:""}}},created:function(){this.fetchData()},methods:{handleEdit:function(e){void 0!=e?this.$refs["edit"].showEdit(e):this.$refs["edit"].showEdit()},setSelectRows:function(e){this.selectRows=e},handleDelete:function(){var e=this;this.pidList=[];for(var t=0;t<this.selectRows.length;t++){var r=this.selectRows[t].pid;this.pidList.push(r)}this.$baseConfirm("您确定要删除所选领料类型吗?",null,Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["deleteDealers"])(e.pidList).then((function(t){var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:"删除领料类型成功",type:"success"}),e.fetchData()):1==t.code&&e.$message({message:"删除领料类型失败",type:"warning"})}));case 2:case"end":return t.stop()}}),t)}))))},queryData:function(){this.fetchData()},fetchData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["dealersMasterList"])(e.form).then((function(t){var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code&&(e.list=t.data)}));case 2:case"end":return t.stop()}}),t)})))()}}},c=l,u=(r("55fb"),r("2877")),d=Object(u["a"])(c,a,n,!1,null,null,null);t["default"]=d.exports},"8c1b":function(e,t,r){},acf6:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"领料类型",prop:"dealersName"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.dealersName,callback:function(t){e.$set(e.form,"dealersName","string"===typeof t?t.trim():t)},expression:"form.dealersName"}})],1),r("el-form-item",{attrs:{label:"是否启用",prop:"enabledFlag"}},[r("el-radio-group",{model:{value:e.form.enabledFlag,callback:function(t){e.$set(e.form,"enabledFlag",t)},expression:"form.enabledFlag"}},[r("el-radio",{attrs:{label:"Y"}},[e._v("是")]),r("el-radio",{attrs:{label:"N"}},[e._v("否")])],1)],1),r("el-form-item",{attrs:{label:"备注",prop:"rem"}},[r("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.rem,callback:function(t){e.$set(e.form,"rem",t)},expression:"form.rem"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.close}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)},n=[],s=(r("7db0"),r("caad"),r("2532"),r("96cf"),r("1da1")),o=r("5530"),i=r("1304"),l=r("2f62"),c={name:"dealersManagementEdit",computed:Object(o["a"])({},Object(l["c"])({userdata:"user/userdata"})),data:function(){return{title:"",dialogFormVisible:!1,openData:[],form:{pid:"",dealersId:"",dealersName:"",enabledFlag:"Y",rem:"",operDate:"",userPid:"",userPid2:""},rules:{dealersName:[{required:!0,trigger:"blur",message:"请输入领料类型"}],enabledFlag:[{required:!0,trigger:"blur",message:"请选择是否启用"}]}}},created:function(){this.companyList()},methods:{companyList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["getCompanyList"])();case 2:r=t.sent,a=r.data,e.openData=a;case 5:case"end":return t.stop()}}),t)})))()},selectGet:function(e){var t={};t=this.openData.find((function(t){return t.pid===e})),this.form.companyPid=t.pid,this.form.companyName=t.companyName},showEdit:function(e){e?(this.title="编辑领料类型",this.form=Object.assign({},e)):this.title="添加领料类型",this.dialogFormVisible=!0},close:function(){this.$refs["form"].resetFields(),this.form=this.$options.data().form,this.dialogFormVisible=!1},save:function(){var e=this;""==this.form.pid&&(this.form.userPid=this.userdata.userPid),this.$refs["form"].validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,Object(i["editDealers"])(e.form).then((function(t){var r=t.message;r.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:"保存领料类型成功",type:"success"}),e.close(),e.$parent.fetchData()):1==t.code&&e.$message({message:t.message,type:"warning"})})).catch((function(e){console.log(e)}));case 3:t.next=6;break;case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},u=c,d=r("2877"),m=Object(d["a"])(u,a,n,!1,null,null,null);t["default"]=m.exports}}]);