/*!
 *  build: vue-admin-beautiful 
 *  vue-admin-beautiful author: chuzhixin 1204505056@qq.com 
 *  vue-admin-beautiful QQ Group(QQ群): 972435319、1139183756 
 *  time: 2021-3-24 14:16:49
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c7041d1"],{"2b48":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"领料原因",prop:"causeTitle"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.causeTitle,callback:function(t){e.$set(e.form,"causeTitle","string"===typeof t?t.trim():t)},expression:"form.causeTitle"}})],1),a("el-form-item",{attrs:{label:"是否启用",prop:"enabledFlag"}},[a("el-radio-group",{model:{value:e.form.enabledFlag,callback:function(t){e.$set(e.form,"enabledFlag",t)},expression:"form.enabledFlag"}},[a("el-radio",{attrs:{label:"Y"}},[e._v("是")]),a("el-radio",{attrs:{label:"N"}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"备注",prop:"rem"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.rem,callback:function(t){e.$set(e.form,"rem",t)},expression:"form.rem"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)},n=[],o=(a("7db0"),a("caad"),a("2532"),a("96cf"),a("1da1")),s=a("5530"),i=a("7407"),l=a("2f62"),c={name:"causeManagementEdit",computed:Object(s["a"])({},Object(l["c"])({userdata:"user/userdata"})),data:function(){return{title:"",dialogFormVisible:!1,openData:[],form:{pid:"",causeId:"",causeTitle:"",enabledFlag:"Y",companyPid:"",companyName:"",rem:"",operDate:"",userPid:"",userPid2:""},rules:{causeTitle:[{required:!0,trigger:"blur",message:"请输入领料原因"}],enabledFlag:[{required:!0,trigger:"blur",message:"请选择是否启用"}]}}},created:function(){},methods:{selectGet:function(e){var t={};t=this.openData.find((function(t){return t.pid===e})),this.form.companyPid=t.pid,this.form.companyName=t.companyName},showEdit:function(e){e?(this.title="编辑领料原因",this.form=Object.assign({},e)):this.title="添加领料原因",this.dialogFormVisible=!0},close:function(){this.$refs["form"].resetFields(),this.form=this.$options.data().form,this.dialogFormVisible=!1},save:function(){var e=this;""==this.form.pid&&(this.form.userPid=this.userdata.userPid),this.$refs["form"].validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return t.next=3,Object(i["editCause"])(e.form).then((function(t){var a=t.message;a.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:"保存领料原因成功",type:"success"}),e.close(),e.$parent.fetchData()):1==t.code&&e.$message({message:t.message,type:"warning"})})).catch((function(e){console.log(e)}));case 3:t.next=6;break;case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},u=c,d=a("2877"),m=Object(d["a"])(u,r,n,!1,null,null,null);t["default"]=m.exports},"6c94":function(e,t,a){},7407:function(e,t,a){"use strict";a.r(t),a.d(t,"causeMasterList",(function(){return n})),a.d(t,"editCause",(function(){return o})),a.d(t,"deleteCause",(function(){return s})),a.d(t,"getCompanyList",(function(){return i}));var r=a("8b2a");function n(e){return Object(r["default"])({url:"/causemaster/list",method:"post",data:e})}function o(e){return Object(r["default"])({url:"/causemaster/save",method:"post",data:e})}function s(e){return Object(r["default"])({url:"/causemaster/"+e,method:"delete"})}function i(){return Object(r["default"])({url:"/dealersmaster/getCompanyList",method:"post"})}},edba:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"userManagement-container"},[a("vab-query-form",[a("vab-query-form-left-panel",{staticStyle:{"margin-bottom":"0%"},attrs:{span:12}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(t){return e.handleEdit()}}},[e._v(" 添加 ")]),a("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(t){return e.handleDelete()}}},[e._v(" 批量删除 ")])],1),a("vab-query-form-right-panel",{staticStyle:{"margin-bottom":"0%"},attrs:{span:12}},[a("el-form",{attrs:{inline:!0,model:e.form},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入领料原因",clearable:""},model:{value:e.form.searchData,callback:function(t){e.$set(e.form,"searchData","string"===typeof t?t.trim():t)},expression:"form.searchData"}})],1),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.queryData}},[e._v(" 查询 ")])],1)],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,height:"500",border:"","element-loading-text":e.elementLoadingText},on:{"selection-change":e.setSelectRows}},[a("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"selection"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"causeTitle",label:"领料原因","min-width":"30%"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"rem",label:"备注","min-width":"40%"}}),e._e(),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"enabledFlag",label:"是否启用","min-width":"15%"},scopedSlots:e._u([{key:"default",fn:function(t){return["Y"==t.row.enabledFlag?a("label",[e._v("是")]):e._e(),"N"==t.row.enabledFlag?a("label",[e._v("否")]):e._e()]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")])]}}])})],1),a("edit",{ref:"edit"})],1)},n=[],o=(a("caad"),a("2532"),a("96cf"),a("1da1")),s=a("7407"),i=a("2b48"),l={name:"causeManagement",components:{Edit:i["default"]},data:function(){return{list:[],elementLoadingText:"正在加载...",selectRows:"",pidList:[],form:{userPid:"",searchData:""}}},created:function(){this.fetchData()},methods:{handleEdit:function(e){void 0!=e?this.$refs["edit"].showEdit(e):this.$refs["edit"].showEdit()},setSelectRows:function(e){this.selectRows=e},handleDelete:function(){var e=this;this.pidList=[];for(var t=0;t<this.selectRows.length;t++){var a=this.selectRows[t].pid;this.pidList.push(a)}this.$baseConfirm("您确定要删除所选领料原因吗?",null,Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["deleteCause"])(e.pidList).then((function(t){var a=t.message;a.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:"删除领料原因成功",type:"success"}),e.fetchData()):1==t.code&&e.$message({message:"删除领料原因失败",type:"warning"})}));case 2:case"end":return t.stop()}}),t)}))))},queryData:function(){this.fetchData()},fetchData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["causeMasterList"])(e.form).then((function(t){var a=t.message;a.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code&&(e.list=t.data)}));case 2:case"end":return t.stop()}}),t)})))()}}},c=l,u=(a("ee06"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,null,null);t["default"]=d.exports},ee06:function(e,t,a){"use strict";a("6c94")}}]);