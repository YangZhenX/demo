/*!
 *  build: vue-admin-beautiful 
 *  vue-admin-beautiful author: chuzhixin 1204505056@qq.com 
 *  vue-admin-beautiful QQ Group(QQ群): 972435319、1139183756 
 *  time: 2021-3-24 14:16:49
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72dc2aba"],{"0630":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"userManagement-container"},[a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,width:"65%"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"","element-loading-text":e.elementLoadingText}},[a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"companyName",label:"公司名称","min-width":"30%"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"num",label:"单次最大申领数量","min-width":"15%"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"dpNum",label:"单品剩余额度","min-width":"11%"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"stockWarning",label:"库存预警","min-width":"11%"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作","min-width":"8%",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleShowApplyQuota(r)}}},[e._v(" 编辑 ")])]}}])})],1),a("edit",{ref:"edit"})],1)],1)},i=[],o=(a("caad"),a("2532"),a("96cf"),a("1da1")),n=a("d057"),l=a("4c18"),s={name:"productApplyQuotaList",components:{Edit:l["default"]},data:function(){return{title:"配置申领数量/单品年度额度/库存预警",list:"",dialogFormVisible:!1,elementLoadingText:"正在加载...",form:{pid:""}}},created:function(){},methods:{showApplyQuota:function(e){this.form.pid=e.pid,this.dialogFormVisible=!0,this.fetchData()},close:function(){this.form=this.$options.data().form,this.dialogFormVisible=!1},handleShowApplyQuota:function(e){e.pid=this.form.pid,this.$refs["edit"].showEdit(e)},queryData:function(){this.fetchData()},fetchData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["getProductApplyQuotaList"])(e.form.pid).then((function(t){var a=t.message;a.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code&&(e.list=t.data)}));case 2:case"end":return t.stop()}}),t)})))()}}},u=s,c=a("2877"),d=Object(c["a"])(u,r,i,!1,null,null,null);t["default"]=d.exports},"2c2a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"userManagement-container"},[a("vab-query-form",[a("vab-query-form-left-panel",{attrs:{span:10}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(t){return e.handleEdit()}}},[e._v(" 添加 ")]),a("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(t){return e.handleDelete()}}},[e._v(" 批量删除 ")])],1),a("vab-query-form-right-panel",{attrs:{span:14}},[a("el-form",{attrs:{inline:!0,model:e.form},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"是否启用:"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择是否启用"},model:{value:e.form.enabledflag,callback:function(t){e.$set(e.form,"enabledflag",t)},expression:"form.enabledflag"}},[a("el-option",{attrs:{label:"全部",value:"%"}}),a("el-option",{attrs:{label:"是",value:"Y"}}),a("el-option",{attrs:{label:"否",value:"N"}})],1)],1),a("el-form-item",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入名称/供应商/版本号",clearable:""},model:{value:e.form.searchData,callback:function(t){e.$set(e.form,"searchData","string"===typeof t?t.trim():t)},expression:"form.searchData"}})],1),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.queryData}},[e._v(" 查询 ")])],1)],1)],1)],1),a("el-form",{staticStyle:{float:"right","margin-top":"-3%"},attrs:{inline:!0,model:e.form},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addQuantity("apply")}}},[e._v(" 一键配置数量 ")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addQuantity("dpnum")}}},[e._v(" 一键配置额度 ")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addQuantity("warning")}}},[e._v(" 一键配置预警 ")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"","element-loading-text":e.elementLoadingText},on:{"selection-change":e.setSelectRows}},[a("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"selection"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"prodName",label:"宣传品名称",width:"250"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"ext3",label:"版本号",width:"200"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"ext2",label:"图片",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"30px",height:"30px"},attrs:{src:e.baseUrl+"/productmaster/viewfile/"+t.row.pid+"/"+Date.now()},on:{click:function(a){return e.handlePictureCardPreview(t.row.pid)}}})]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"introduce",label:"详细介绍",width:"500"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"supplierName",label:"供应商名称",width:"200"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"costPrice",label:"成本价格",width:"100"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"operDate",label:"录入日期",width:"200"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"enabledflag",label:"是否启用",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["Y"==t.row.enabledflag?a("label",[e._v("是")]):e._e(),"N"==t.row.enabledflag?a("label",[e._v("否")]):e._e()]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"配置",width:"120",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleQuantity(r)}}},[e._v(" 数量/额度/预警 ")])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")])]}}])})],1),a("edit",{ref:"edit"}),a("applyQuota",{ref:"applyQuota"}),a("addQuantity",{ref:"addQuantity"}),a("el-dialog",{attrs:{visible:e.dialogVisible,title:e.diaTitle,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),a("el-pagination",{attrs:{background:"","current-page":e.form.pageno,"page-size":this.pageSize,layout:e.layout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},i=[],o=(a("caad"),a("2532"),a("96cf"),a("1da1")),n=a("d057"),l=a("aa92"),s=a("bb31"),u=a("0630"),c=a("d4a5"),d=a.n(c),p={name:"productManagement",components:{Edit:l["default"],ApplyQuota:u["default"],AddQuantity:s["default"]},data:function(){return{list:[],elementLoadingText:"正在加载...",diaTitle:"查看大图",dialogImageUrl:"",dialogVisible:!1,selectRows:"",layout:"total, prev, pager, next, jumper",total:0,pageSize:10,baseUrl:"",pidList:[],form:{userPid:"",searchData:"",pageno:1,enabledflag:"%"}}},created:function(){this.baseUrl=d.a.newBaseUrl,this.fetchData()},methods:{handlePictureCardPreview:function(e){this.dialogImageUrl=this.baseUrl+"/productmaster/viewfile/"+e+"/"+Date.now(),this.dialogVisible=!0},setSelectRows:function(e){this.selectRows=e},handleDelete:function(){var e=this;this.pidList=[];for(var t=0;t<this.selectRows.length;t++){var a=this.selectRows[t].pid;this.pidList.push(a)}this.$baseConfirm("您确定要删除所选单品吗?",null,Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["deleteProduct"])(e.pidList).then((function(t){var a=t.message;a.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:"删除单品成功",type:"success"}),e.queryData()):1==t.code&&e.$message({message:"删除单品失败",type:"warning"})}));case 2:case"end":return t.stop()}}),t)}))))},handleEdit:function(e){void 0!=e?this.$refs["edit"].showEdit(e):this.$refs["edit"].showEdit()},handleQuantity:function(e){this.$refs["applyQuota"].showApplyQuota(e)},addQuantity:function(e){this.$refs["addQuantity"].showAddQuantity(e)},handleSizeChange:function(e){this.form.pageSize=e,this.fetchData()},handleCurrentChange:function(e){this.form.pageno=e,this.fetchData()},queryData:function(){this.form.pageno=1,this.fetchData()},fetchData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["productMasterList"])(e.form).then((function(t){var a=t.message;a.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code&&(e.list=t.data.dataList,e.total=t.data.total)}));case 2:case"end":return t.stop()}}),t)})))()}}},m=p,f=a("2877"),h=Object(f["a"])(m,r,i,!1,null,null,null);t["default"]=h.exports},"3bab":function(e,t,a){"use strict";a("8158")},"4c18":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,"append-to-body":"",visible:e.dialogFormVisible,width:"600px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"公司名称",prop:"companyName"}},[a("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName","string"===typeof t?t.trim():t)},expression:"form.companyName"}})],1),a("el-form-item",{attrs:{label:"单次最大申领数量",prop:"num"}},[a("el-input",{attrs:{autocomplete:"off",maxlength:"9",onkeyup:"value=value.replace(/[^\\d+(\\.\\d+)?$]/g,'')"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num","string"===typeof t?t.trim():t)},expression:"form.num"}})],1),a("el-form-item",{attrs:{label:"库存预警",prop:"stockWarning"}},[a("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d+(\\.\\d+)?$]/g,'')",maxlength:"9",autocomplete:"off"},model:{value:e.form.stockWarning,callback:function(t){e.$set(e.form,"stockWarning","string"===typeof t?t.trim():t)},expression:"form.stockWarning"}})],1),a("el-form-item",{attrs:{label:"单品剩余额度",prop:"dpNum"}},[a("el-input",{attrs:{maxlength:"9",autocomplete:"off",onkeyup:"value=value.replace(/[^\\d+(\\.\\d+)?$]/g,'')"},model:{value:e.form.dpNum,callback:function(t){e.$set(e.form,"dpNum","string"===typeof t?t.trim():t)},expression:"form.dpNum"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)])},i=[],o=(a("caad"),a("2532"),a("96cf"),a("1da1")),n=a("d057"),l={name:"productApplyQuotaEdit",data:function(){return{dialogFormVisible:!1,title:"配置",form:{pid:"",companyPid:"",companyName:"",anRowId:"",num:"",stockWarning:"",syqRowId:"",dpNum:""},rules:{num:[{required:!0,trigger:"blur",message:"请输入单次最大申领数量"}],stockWarning:[{required:!0,trigger:"blur",message:"请输入库存预警"}],dpNum:[{required:!0,trigger:"blur",message:"请输入单品年度额度"}]}}},created:function(){},methods:{showEdit:function(e){this.form=Object.assign({},e),this.dialogFormVisible=!0},close:function(){this.$refs["form"].resetFields(),this.form=this.$options.data().form,this.dialogFormVisible=!1},save:function(){var e=this;this.$refs["form"].validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return t.next=3,Object(n["editApplyQuota"])(e.form).then((function(t){var a=t.message;a.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:"配置成功！",type:"success"}),e.close(),e.$parent.$parent.queryData()):1==t.code&&e.$message({message:"配置失败",type:"warning"})})).catch((function(e){console.log(e)}));case 3:t.next=6;break;case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},s=l,u=a("2877"),c=Object(u["a"])(s,r,i,!1,null,null,null);t["default"]=c.exports},8158:function(e,t,a){},"9bae":function(e,t,a){"use strict";a.r(t),a.d(t,"companyMasterList",(function(){return i})),a.d(t,"getCompanyMasterByEnabledFlag",(function(){return o})),a.d(t,"editCompany",(function(){return n})),a.d(t,"setQuantity",(function(){return l}));var r=a("8b2a");function i(e){return Object(r["default"])({url:"/companymaster/list",method:"post",data:e})}function o(e){return Object(r["default"])({url:"/companymaster/list/"+e,method:"get"})}function n(e){return Object(r["default"])({url:"/companymaster/save",method:"post",data:e})}function l(e,t,a){return Object(r["default"])({url:"/companymaster/saveBatchYearQuota/"+e+"/"+t+"/"+a,method:"get"})}},aa92:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,"append-to-body":"",visible:e.dialogFormVisible,width:"800px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[a("div",{staticClass:"el-dialog-div"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px",autocomplete:"‘off’"}},[a("el-form-item",{attrs:{label:"宣传品名称",prop:"prodName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.prodName,callback:function(t){e.$set(e.form,"prodName","string"===typeof t?t.trim():t)},expression:"form.prodName"}})],1),a("el-form-item",{attrs:{label:"版本号",prop:"ext3"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.ext3,callback:function(t){e.$set(e.form,"ext3","string"===typeof t?t.trim():t)},expression:"form.ext3"}})],1),a("el-form-item",{attrs:{label:"详细介绍",prop:"introduce"}},[a("el-input",{attrs:{rows:"8",type:"textarea",autocomplete:"off"},model:{value:e.form.introduce,callback:function(t){e.$set(e.form,"introduce",t)},expression:"form.introduce"}})],1),a("el-form-item",{attrs:{label:"供应商",prop:"supplierName"}},[a("el-select",{attrs:{placeholder:"请选择供应商"},on:{change:function(t){return e.selectGet(t)}},model:{value:e.form.supplierName,callback:function(t){e.$set(e.form,"supplierName",t)},expression:"form.supplierName"}},e._l(e.openData,(function(e){return a("el-option",{key:e.pid,attrs:{label:e.supName,value:e.pid}})})),1)],1),a("el-form-item",{attrs:{label:"成本价格",prop:"costPrice"}},[a("el-input",{attrs:{autocomplete:"off",onkeyup:"value=value.replace(/[^\\d+(\\.\\d+)?$]/g,'')"},model:{value:e.form.costPrice,callback:function(t){e.$set(e.form,"costPrice","string"===typeof t?t.trim():t)},expression:"form.costPrice"}})],1),a("el-form-item",{attrs:{label:"是否启用",prop:"enabledflag"}},[a("el-radio-group",{model:{value:e.form.enabledflag,callback:function(t){e.$set(e.form,"enabledflag",t)},expression:"form.enabledflag"}},[a("el-radio",{attrs:{label:"Y"}},[e._v("是")]),a("el-radio",{attrs:{label:"N"}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"图片"}},[a("el-upload",{staticClass:"upload-demo",staticStyle:{"margin-bottom":"10px"},attrs:{action:"","auto-upload":!1,multiple:!0,"file-list":e.fileList,"on-change":e.handleChange,"on-remove":e.handleRemove,"list-type":"picture"}},[a("el-button",{attrs:{type:"success"},on:{click:e.delFile}},[e._v("上传图片")])],1),e.showPic?a("el-col",{staticClass:"el-col",attrs:{span:8},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid","string"===typeof t?t.trim():t)},expression:"form.pid"}},[a("el-card",{staticClass:"el-card",attrs:{onclick:""}},[a("div",[a("div",{staticClass:"text item"},[a("div",{staticClass:"item_desr"},[a("el-image",{attrs:{src:e.baseUrl+"/prodtype/viewfile/"+e.form.pid},on:{click:function(t){return e.handlePictureCardPreview(e.form.pid)}}})],1)])])])],1):e._e()],1)],1)],1),a("el-dialog",{attrs:{visible:e.dialogVisible,title:e.diaTitle,"append-to-body":"",width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)},i=[],o=(a("7db0"),a("caad"),a("2532"),a("96cf"),a("1da1")),n=a("5530"),l=a("ebe5"),s=a("d057"),u=a("2f62"),c=a("d4a5"),d=a.n(c),p={name:"productManagementEdit",computed:Object(n["a"])({},Object(u["c"])({userdata:"user/userdata"})),data:function(){return{diaTitle:"查看大图",showPic:!1,dialogImageUrl:"",dialogVisible:!1,dialogFormVisible:!1,title:"",fileList:[],openData:[],openType:[],baseUrl:"",supplierList:{searchData:"",userPid:""},form:{pid:"",prodId:"",prodName:"",ext3:"",isSingle:"",supplierPid:"",supplierName:"",costPrice:"",coverPath:"",introduce:"",enabledflag:"Y",operDate:"",userPid:"",ext1:"",ext2:""},rules:{prodName:[{required:!0,trigger:"blur",message:"请输入宣传品名称"}],ext3:[{required:!0,trigger:"blur",message:"请输入版本号"}],introduce:[{required:!0,trigger:"blur",message:"请输入详细介绍"}],supplierName:[{required:!0,trigger:"blur",message:"请选择供应商称"}],costPrice:[{required:!0,trigger:"blur",message:"请输入成本价格"}],enabledFlag:[{required:!0,trigger:"blur",message:"请选择是否启用"}]}}},created:function(){this.baseUrl=d.a.newBaseUrl,this.getSupList()},methods:{showEdit:function(e){e?(this.title="编辑单品",this.form=Object.assign({},e),this.showPic=!0):(this.title="添加单品",this.showPic=!1),this.dialogFormVisible=!0},close:function(){this.$refs["form"].resetFields(),this.form=this.$options.data().form,this.dialogFormVisible=!1,this.fileList=[]},handlePictureCardPreview:function(e){this.dialogImageUrl=this.baseUrl+"/prodtype/viewfile/"+e,this.dialogVisible=!0},getSupList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["supplierMasterList"])(e.supplierList);case 2:a=t.sent,r=a.data,e.openData=r;case 5:case"end":return t.stop()}}),t)})))()},selectGet:function(e){var t={};t=this.openData.find((function(t){return t.pid===e})),this.form.supplierName=t.supName,this.form.supplierPid=t.pid},delFile:function(){this.fileList=[]},handleRemove:function(e,t){this.fileList=t},handleChange:function(e,t){this.fileList=t,this.showPic=!1},save:function(){var e=this;""==this.form.pid&&(this.form.userPid=this.userdata.userPid),this.$refs["form"].validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}if(""!=e.form.pid||0!=e.fileList.length){t.next=6;break}return e.$message({message:"请上传图片",type:"warning"}),t.abrupt("return",!1);case 6:return t.next=8,Object(s["editProduct"])(e.form).then((function(t){var a=t.message;if(a.includes("请重新登录"))e.$message.error("无token信息，请重新登录。");else if(200==t.code){var r=t.data;0!=e.fileList.length&&e.submitUploadPic(r,e.fileList[0].raw),e.$message({message:"保存宣传品成功！",type:"success"}),e.$parent.fetchData(),e.close()}else 1==t.code&&e.$message({message:t.message,type:"warning"})})).catch((function(e){console.log(e)}));case 8:t.next=11;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},submitUploadPic:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i=new FormData,i.append("fileList",t),i.append("pid",e),!(i.get("fileList").size>1390494)){r.next=7;break}a.$message({message:"上传图片内容过大，请重新选择",type:"warning"}),r.next=9;break;case 7:return r.next=9,Object(s["productUpdatePic"])(i).then((function(e){var t=e.message;t.includes("请重新登录")?a.$message.error("无token信息，请重新登录。"):1==e.code&&a.$message({message:e.message,type:"warning"})}));case 9:case"end":return r.stop()}}),r)})))()}}},m=p,f=(a("3bab"),a("2877")),h=Object(f["a"])(m,r,i,!1,null,null,null);t["default"]=h.exports},bb31:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"userManagement-container"},[a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,width:"40%"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[a("vab-query-form",[a("vab-query-form-right-panel",{attrs:{span:24}},[a("el-button",{staticStyle:{"margin-top":"-8%","margin-bottom":"-8%"},attrs:{type:"primary"},on:{click:e.addCompanyQuantity}},[e._v(" 保存配置 ")])],1)],1),a("el-table",{ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:e.list,border:"","element-loading-text":e.elementLoadingText}},[a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"companyName",label:"公司名称","min-width":"52%"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"isCover",label:"是否覆盖","min-width":"18%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"Y","inactive-value":"N",autocomplete:"off"},model:{value:t.row.isCover,callback:function(a){e.$set(t.row,"isCover","string"===typeof a?a.trim():a)},expression:"scope.row.isCover"}})]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"quantity",label:e.label,"min-width":"30%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{maxlength:"9",onkeyup:"value=value.replace(/[^\\d]/g,'')",autocomplete:"off"},model:{value:t.row.quantity,callback:function(a){e.$set(t.row,"quantity","string"===typeof a?a.trim():a)},expression:"scope.row.quantity"}})]}}])})],1)],1)],1)},i=[],o=(a("caad"),a("2532"),a("96cf"),a("1da1")),n=a("9bae"),l=a("d057"),s={name:"productAddQuantity",data:function(){return{title:"",label:"",list:"",dialogFormVisible:!1,elementLoadingText:"正在加载...",form:{type:"Y"},quantityData:[],saveData:{type:"",data:""}}},created:function(){},methods:{showAddQuantity:function(e){"apply"==e?(this.title="一键配置数量",this.label="单次最大申领数量"):"warning"==e?(this.title="一键配置预警",this.label="库存预警"):"dpnum"==e&&(this.title="一键配置额度",this.label="单品剩余额度"),this.saveData.type=e,this.fetchData(),this.dialogFormVisible=!0},close:function(){this.form=this.$options.data().form,this.dialogFormVisible=!1},fetchData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["getCompanyMasterByEnabledFlag"])(e.form.type).then((function(t){var a=t.message;a.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code&&(e.list=t.data)}));case 2:case"end":return t.stop()}}),t)})))()},addCompanyQuantity:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in e.quantityData=[],e.list)null!=e.list[a].quantity&&void 0!=e.list[a].quantity&&""!=e.list[a].quantity&&(r="",r=void 0==e.list[a].isCover||"N"==e.list[a].isCover?"N":"Y",e.quantityData.push({companyPid:e.list[a].pid,num:e.list[a].quantity,isCover:r}));if(!(e.quantityData.length<=0)){t.next=7;break}return e.$message({message:"至少输入一个公司数量",type:"warning"}),t.abrupt("return",!1);case 7:return e.saveData.data=e.quantityData,t.next=10,Object(l["editBatchApplyQuota"])(e.saveData).then((function(t){var a=t.message;a.includes("请重新登录")?e.$message.error("无token信息，请重新登录。"):200==t.code?(e.$message({message:t.message,type:"success"}),e.close()):1==t.code&&e.$message({message:"保存配置失败",type:"warning"})})).catch((function(e){console.log(e)}));case 10:case"end":return t.stop()}}),t)})))()}}},u=s,c=a("2877"),d=Object(c["a"])(u,r,i,!1,null,null,null);t["default"]=d.exports},ebe5:function(e,t,a){"use strict";a.r(t),a.d(t,"supplierMasterList",(function(){return i})),a.d(t,"editSupplier",(function(){return o})),a.d(t,"deleteSupplier",(function(){return n})),a.d(t,"supplierUserList",(function(){return l})),a.d(t,"editSupplierUser",(function(){return s})),a.d(t,"deleteSupplierUser",(function(){return u}));var r=a("8b2a");function i(e){return Object(r["default"])({url:"/suppliermaster/supMaterList",method:"post",data:e})}function o(e){return Object(r["default"])({url:"/suppliermaster/supMaster",method:"post",data:e})}function n(e){return Object(r["default"])({url:"/suppliermaster/"+e,method:"delete"})}function l(e){return Object(r["default"])({url:"/supplieruser/supUserList",method:"post",data:e})}function s(e){return Object(r["default"])({url:"/supplieruser/supUser",method:"post",data:e})}function u(e){return Object(r["default"])({url:"/supplieruser/"+e,method:"delete"})}}}]);